!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports["photolayout.min"]=i():t["photolayout.min"]=i()}(this,function(){return function(t){function i(e){if(o[e])return o[e].exports;var n=o[e]={exports:{},id:e,loaded:!1};return t[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var o={};return i.m=t,i.c=o,i.p="",i(0)}({0:function(t,i,o){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n,s=o(8),r=e(s);n=function(){function t(t){var i;this._options=null!=t?t:{},(i=this._options).line_height||(i.line_height=200),this._options.margin||(this._options.margin=5),this._options.max_width||(this._options.max_width=2e3),this._options.min_width||(this._options.min_width=100),this._options.tolerance||(this._options.tolerance=50),this._photos=[]}return t.prototype.add=function(t){var i,o,e;if(t instanceof Array){for(i=0,o=t.length;o>i;i++)e=t[i],this.add(e);return this}return this._photos.push(t),this},t.prototype.layout_for=function(t){var i;return i=new r["default"](this._options.line_height/t,this._options.margin/t*100),i.add(this._photos),i},t.prototype.breakpoints=function(){return null!=this._breakpoints?this._breakpoints:(this.css(),this._breakpoints)},t.prototype.css=function(){var t,i,o,e;for(e=this._options.max_width,t="",i=0,this._breakpoints=[];e>this._options.min_width&&(this._breakpoints.push(e),o=this.layout_for(e),t+="@media (max-width: "+e+"px){\n"+o.css()+"}\n",i+=1,!(i>50));)e-=this._options.tolerance*o.min_line_ratio();return t},t}(),i["default"]=n},8:function(t,i,o){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n,s=o(9),r=e(s);n=function(){function t(t,i,o){this._zoom=t,this._margin=null!=i?i:0,this._selector=null!=o?o:".i",this._margin=1*this._margin,this._current_line=new r["default"](this),this._lines=[this._current_line]}return t.prototype.min_line_ratio=function(){var t,i,o,e,n;for(e=this._lines[0].ratio(),n=this._lines,t=0,i=n.length;i>t;t++)o=n[t],e=Math.min(o.ratio(),e);return e},t.prototype.add=function(t){var i,o,e;if(t instanceof Array){for(i=0,o=t.length;o>i;i++)e=t[i],this.add(e);return this}return this._current_line.accept(t)?this._current_line.add(t):(this._current_line=new r["default"](this),this._lines.push(this._current_line),this._current_line.add(t)),this},t.prototype.getItems=function(t,i){var o,e,n,s,r,h,_,a,u,l,c,p,f,d,g,m,y;if(null==t&&(t=0),s=[],f=0,0===t&&null==i){for(d=this._lines,e=0,a=d.length;a>e;e++){for(p=d[e],g=p.getItems(f),r=0,u=g.length;u>r;r++)n=g[r],s.push(n);f+=n.h+this._margin}return s}for(raise("ERROR "),m=this._lines,h=0,l=m.length;l>h;h++)if(p=m[h],o=p.height(),t>f)f+=o+this._margin;else{for(y=p.getItems(f),_=0,c=y.length;c>_;_++)n=y[_],s.push(n);if(f+=o+this._margin,null!=i&&f>=i)break}return s},t.prototype.height=function(){var t,i,o,e,n;for(t=0,n=this._lines,i=0,o=n.length;o>i;i++)e=n[i],t+=e.height();return t+=(this._lines.length-1)*this._margin},t.prototype.css=function(){return this._selector+"{float: left; margin: 0 "+this._margin+"% "+this._margin+"% 0; }\n"+this.css_for_items()+".layout-container{ padding-bottom: "+this.height()+"% }"},t.prototype.css_for_items=function(){var t,i,o,e,n,s,r,h,_,a,u,l;for(t="",n=this.getItems(),o=0,h=n.length;h>o;o++)e=n[o],t+=""+this._selector+e.o.id+"{top: "+e.offset_y+"%; left: "+e.offset_x+"%;width: "+e.w+"%; padding-top: "+e.h+"%;}\n";for(i=[],u=this._lines,s=0,_=u.length;_>s;s++)a=u[s],l=a._objects,r=l[l.length-1],i.push(""+this._selector+r.id);return t+=i.join(", ")+"{ margin-right: 0; }\n"},t}(),i["default"]=n},9:function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o;o=function(){function t(t){this._layout=t,this._objects=[],this._objects_ratio=0}return t.prototype.accept=function(t){return 0===this._objects.length?!0:1/this.calculate_ratio_with(t)>this._layout._zoom},t.prototype.ratio=function(){return Math.abs(this._objects_ratio-1/this._layout._zoom)/this._objects_ratio>1?1/this._layout._zoom:this._objects_ratio},t.prototype.height=function(){return 0===this._objects.length?0:100/this.ratio()},t.prototype.add=function(t){return 0===this._objects.length?this._objects_ratio=this.object_ratio(t):this._objects_ratio+=this.object_ratio(t),this._objects.push(t)},t.prototype.getItems=function(t){var i,o,e,n,s,r,h,_,a,u,l;if(0===this._objects.length)return[];for(o=[],_=0,s=100-(this._objects.length-1)*this._layout._margin,a=this.ratio(),n=s/a,u=this._objects,i=0,e=u.length;e>i;i++)r=u[i],h=this.object_ratio(r),l=n*h,o.push({o:r,w:l,h:n,offset_x:_,offset_y:t}),_+=l+this._layout._margin;return o},t.prototype.calculate_ratio_with=function(t){return this._objects_ratio+this.object_ratio(t)},t.prototype.object_ratio=function(t){return t.ratio},t}(),i["default"]=o}})});